<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>¡Gracias! — Savage Nomads</title>

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q8KFXRQGLW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Q8KFXRQGLW', { send_page_view: true });
  </script>

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon.png?v=4">
  <link rel="icon" type="image/png" sizes="192x192" href="img/favicon.png?v=4">
  <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png?v=4">
  <meta name="theme-color" content="#00C2A8">

  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#F7FBFC; --surface:#FFFFFF; --fg:#0E1416; --muted:#50656C;
      --brand:#00C2A8; --border:#E6EEF1; --radius:14px; --wrap:900px;
      --shadow:0 10px 26px rgba(16,24,40,.10);
    }
    :root.dark{
      --bg:#0B0F10; --surface:#10171A; --fg:#EAF2F4; --muted:#9AB1B9; --border:#1E2A30;
      --shadow:0 10px 26px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial,sans-serif}
    .wrap{max-width:var(--wrap);margin:0 auto;padding:0 16px}

    header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.92);border-bottom:1px solid var(--border);backdrop-filter:saturate(140%) blur(8px)}
    :root.dark header{background:rgba(16,23,26,.86)}
    .nav{display:flex;align-items:center;justify-content:space-between;height:68px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .brand-logo{height:36px;width:auto;display:block}

    .icon-btn{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:999px;border:1px solid var(--border);background:var(--surface);cursor:pointer;font-size:18px}

    main{min-height:70vh;display:grid;place-items:center;padding:36px 16px}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);text-align:center;max-width:720px;width:100%}
    h1{font-size:clamp(24px,4.5vw,34px);color:var(--brand);margin:0 0 6px}
    p{margin:0;color:var(--muted)}
    .hero-mini-logo.theme-img{width:140px;height:auto;margin:18px auto 0 auto;display:block}

    .row{display:flex;gap:10px;justify-content:center;margin-top:18px;flex-wrap:wrap}
    .btn{display:inline-block;padding:10px 16px;border-radius:999px;font-weight:700;border:none;cursor:pointer;text-decoration:none}
    .btn-cta{background:var(--brand);color:#0b0f10;box-shadow:0 8px 22px rgba(0,0,0,.18)}
    .btn-cta:hover{transform:translateY(-2px)}

    footer{padding:22px 0;border-top:1px solid var(--border);text-align:center;color:var(--muted)}
    .footerbar{display:inline-flex;align-items:center;gap:10px}
    .footer-logo{height:28px;width:auto;display:block}
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <img class="brand-logo theme-img"
             src="img/logo-hero.png"
             data-light-src="img/logo-hero.png"
             data-dark-src="img/logo-tribu.png"
             alt="Savage Nomads">
        <span>Savage Nomads</span>
      </div>
      <div class="actions">
        <button id="theme-toggle" class="icon-btn" aria-label="Cambiar tema" title="Modo noche/día">🌙</button>
      </div>
    </div>
  </header>

  <main>
    <div class="card">
      <h1>¡Gracias por escribirnos!</h1>
      <p>Hemos recibido tu mensaje. Te contactaremos con fechas, plazas y próximos pasos.</p>
      <!-- Logo centrado que cambia con el tema -->
      <img class="hero-mini-logo theme-img"
           src="img/logo-hero.png"
           data-light-src="img/logo-hero.png"
           data-dark-src="img/logo-tribu.png"
           alt="Savage Nomads">
      <div class="row">
        <a class="btn btn-cta" href="./">Volver al inicio</a>
        <a class="btn btn-cta" href="https://wa.me/34664549465?text=Hola%20Savage%20Nomads%2C%20acabo%20de%20enviar%20el%20formulario%20y%20quiero%20resolver%20una%20duda%20r%C3%A1pida" target="_blank" rel="noopener">Escribir por WhatsApp</a>
      </div>
    </div>
  </main>

  <footer>
    <div class="wrap">
      <span class="footerbar">
        <img class="footer-logo theme-img"
             src="img/logo-hero.png"
             data-light-src="img/logo-hero.png"
             data-dark-src="img/logo-tribu.png"
             alt="Savage Nomads">
        © <span id="y"></span> Savage Nomads • Hecho con cariño y ganas de viajar
      </span>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    function applyThemeAssets(){
      const dark = document.documentElement.classList.contains('dark');
      document.querySelectorAll('.theme-img').forEach(img=>{
        const src = dark ? img.dataset.darkSrc : img.dataset.lightSrc;
        if(src && img.getAttribute('src') !== src) img.setAttribute('src', src);
      });
    }

    // Tema persistente + assets
    (function(){
      const root = document.documentElement;
      const saved = localStorage.getItem('sn-theme');
      if(saved){ root.classList.toggle('dark', saved === 'dark'); }
      if(!saved && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){
        root.classList.add('dark');
      }
      applyThemeAssets();
      const btn = document.getElementById('theme-toggle');
      const setIcon = ()=>{ btn.textContent = root.classList.contains('dark') ? '☀️' : '🌙'; }
      setIcon();
      btn.addEventListener('click', ()=>{
        root.classList.toggle('dark');
        localStorage.setItem('sn-theme', root.classList.contains('dark') ? 'dark' : 'light');
        setIcon();
        applyThemeAssets();
      });
      if (window.matchMedia) {
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e=>{
          if(!localStorage.getItem('sn-theme')){
            root.classList.toggle('dark', e.matches);
            setIcon();
            applyThemeAssets();
          }
        });
      }
    })();

    gtag('event', 'view_thank_you', { source: 'form_submission' });
    gtag('event', 'generate_lead', { method: 'formspree', reliability: 'thank_you_page' });
  </script>
</body>
</html>
